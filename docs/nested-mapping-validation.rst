Nested mapping validation
-------------------------

Mappings can be nested within one another, which
will be parsed as a dict within a dict.

.. code-block:: python

    from strictyaml import Map, Int, load
    
    schema = Map({"a": Map({"x": Int(), "y": Int()}), "b": Int(), "c": Int()})

With variable 'valid_sequence':

.. code-block:: yaml

  a:
    x: 9
    y: 8
  b: 2
  c: 3



.. code-block:: python

    load(valid_sequence, schema) == {"a": {"x": 9, "y": 8}, "b": 2, "c": 3}
    >>> True

With variable 'invalid_sequence_1':

.. code-block:: yaml

  a:
    x: 9
    z: 8
  b: 2
  d: 3



.. code-block:: python

    load(invalid_sequence_1, schema)
    >>> EXCEPTION RAISED:
      while parsing a mapping
      unexpected key not in schema 'z'
        in "<unicode string>", line 3, column 1:
            z: '8'
          ^

With variable 'invalid_sequence_2':

.. code-block:: yaml

  a: 11
  b: 2
  d: 3



.. code-block:: python

    load(invalid_sequence_2, schema)
    >>> EXCEPTION RAISED:
      when expecting a mapping
      found non-mapping
        in "<unicode string>", line 1, column 1:
          a: '11'
           ^


Page automatically generated by hitchdoc from:
  hitch/nested-map.story